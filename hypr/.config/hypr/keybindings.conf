#########################
### hyprland bindings ###
#########################

# core modifiers
$mainmod = SUPER        # windows key
$submod  = LALT         # left ALT
$CTRLmod = CTRL         # control key

# application shortcuts
$terminal    = kitty
$filemanager = yazi
$editor      = nvim
$music       = spotify
$music2      = youtube-music
$browser     = qutebrowser
$browser2    = firefox

$menu   = rofi -show drun
$window = rofi -show window
$calc   = rofi -show calc -p "󱖦" -no-show-match -no-sort -calc-command 'wtype "{result}" && wl-copy {result}'
$emoji  = rofi -show emoji
$passmenu      = ~/.config/hypr/scripts/passmenu.sh
$powermenu     = ~/.config/hypr/scripts/powermenu.sh
$wallpapermenu = ~/.config/hypr/scripts/wallpapermenu.sh # rofi wallpaper menu
$musicmenu     = ~/.config/hypr/scripts/musicmenu.sh # Music Menu
$emojipicker   = ~/.config/hypr/scripts/emojipicker.sh # emoji picker
# $timer   = ~/.config/hypr/scripts/timer.sh # timer 
$timer   = ~/Dev/Projects/rofi-timer/timer.sh # timer 


$sysmonitor    = btop
$lockscreen    = hyprlock
$screenshot    = mkdir -p ~/Media/Pictures/screenshots ; grim - | tee ~/Media/Pictures/screenshots/$(date +%Y-%m-%d_%Hh%Mm%Ss).png | wl-copy --type image/png
$screencapture = mkdir -p ~/Media/Pictures/screenshots ; grim -g "$(slurp)" - | tee ~/Media/Pictures/screenshots/$(date +%Y-%m-%d_%Hh%Mm%Ss)_slurp.png | wl-copy --type image/png
$earphones     = bluetoothctl info 9C:49:52:EA:E2:58 | grep -q "Connected: yes" && bluetoothctl disconnect 9C:49:52:EA:E2:58 || bluetoothctl connect 9C:49:52:EA:E2:58
$extracttext   = grim -g "$(slurp)" - | tesseract stdin stdout | wl-copy


### core system controls ###
# session management
bind = $mainmod, delete, exit                          # exit hyprland
bind = $CTRLmod ALT, delete, exec, shutdown now        # shutdown
bind = $mainmod, h, exec, systemctl hibernate          # hibernate
bind = $mainmod, l, exec, $lockscreen                  # lock screen
bindl = , switch:on:Lid Switch, exec, $lockscreen      # lock screen when closing laptop lid

# essential applications
bind = $mainmod, return, exec, $terminal               # terminal
bind = $mainmod, t, exec, $terminal                    # ALTernative terminal binding
bind = $mainmod SHIFT, v, exec, $terminal cava         # audio visualizer
bind = $mainmod, a, exec, $music                       # music player
bind = $mainmod SHIFT, a, exec, $music2                # music player
# bind = $mainmod, c, exec, $terminal $editor            # code editor # Contest (competitive programming) setup
bind = $mainmod, c, exec, $terminal nvim -c ':CompetiTest receive contest'           # code editor # Contest (competitive programming) setup
bind = $mainmod, y, exec, $terminal $filemanager       # file manager
bind = $mainmod, f, exec, $browser                     # web browser
bind = $mainmod SHIFT, f, exec, $browser2              # web browser
bind = $mainmod, b, exec, $earphones                   # connect earphones

### scripts ###
bind = $mainmod SHIFT, R, exec, timeout 2s bash ~/.config/hypr/scripts/wallpaper.sh # change the wallpaper randomly 
bind = $mainmod, k, exec, ~/.config/hypr/scripts/touchpad.sh # toggle enabling touchpad

# rofi
bind = $mainmod SHIFT, E, exec, pkill rofi || $emojipicker
bind = $mainmod SHIFT, M, exec, pkill rofi || $musicmenu # rofi music
bind = $submod, q, exec, pkill rofi || $calc
bind = $submod, w, exec, pkill rofi || $window
bind = $submod, a, exec, pkill rofi || $passmenu 
bind = $submod, t, exec, pkill rofi || $timer
bind = $submod, e, exec, pkill rofi || $emoji
bind = $submod, space, exec, pkill rofi || $menu       # application launcher
bind = $mainmod, backspace, exec , pkill rofi || $powermenu          # launch powermenu
bind = $mainmod SHIFT, W, exec, pkill rofi || $wallpapermenu 
bind = $mainmod, v, exec, pkill rofi || cliphist list | rofi -dmenu -p " " | cliphist decode | wl-copy # show clipboard menu



### screen capture ###
# screenshots
bind = $mainmod, print, exec, $screenshot              # full screenshot
bind = $submod, print, exec, $screenshot - | wl-copy   # screenshot to clipboard
bind = $mainmod SHIFT, x, exec, $extracttext           # screencapture & copy text from the image
bind = $mainmod SHIFT, c, exec, $screencapture         # area screenshot

### misc ###
bind = CTRL ALT, w, exec, pkill waybar || waybar           # toggle waybar
bind = CTRL ALT, k, exec, ~/.config/hypr/scripts/kmonad.sh # toggle kmonad
bind = CTRL SHIFT, escape, exec, $terminal $sysmonitor     # system monitor
bind = $mainmod SHIFT, p, exec, hyprpicker -a              # color picker

### window management ###
# window controls
bind = $mainmod, q, killactive                         # close window
bind = ALT, f4, killactive                             # ALTernative close
bind = $mainmod, w, togglefloating                     # ALTernative floating
bind = $submod, return, fullscreen                     # fullscreen
bind = $mainmod, m, fullscreen                         # ALTernative fullscreen
bind = $mainmod, p, pseudo                             # pseudo mode
bind = $mainmod, j, togglesplit
bind = $mainmod, o, togglesplit

# window focus (vim-style + arrow keys)
bind = $mainmod, left, movefocus, l
bind = $mainmod, right, movefocus, r
bind = $mainmod, up, movefocus, u
bind = $mainmod, down, movefocus, d
bind = $mainmod, n, movefocus, l                       # left (vim)
bind = $mainmod, i, movefocus, r                       # right (vim)
bind = $mainmod, u, movefocus, u                       # up (vim)
bind = $mainmod, e, movefocus, d                       # down (vim)
bind = $mainmod, TAB,workspace,previous
bind = ALT, TAB, cyclenext, prev                       # classic ALT-TAB


# window resizing
binde = $submod SHIFT, i, resizeactive, 30 0          # grow right
binde = $submod SHIFT, n, resizeactive, -30 0         # shrink left
binde = $submod SHIFT, u, resizeactive, 0 -30         # shrink up
binde = $submod SHIFT, e, resizeactive, 0 30          # grow down
binde = $submod SHIFT, right, resizeactive, 30 0       # grow right
binde = $submod SHIFT, left, resizeactive, -30 0       # shrink left
binde = $submod SHIFT, up, resizeactive, 0 -30         # shrink up
binde = $submod SHIFT, down, resizeactive, 0 30        # grow down

### workspace management ###
# direct workspace switching
bind = $mainmod, 1, workspace, 1
bind = $mainmod, 2, workspace, 2
bind = $mainmod, 3, workspace, 3
bind = $mainmod, 4, workspace, 4
bind = $mainmod, 5, workspace, 5
bind = $mainmod, 6, workspace, 6
bind = $mainmod, 7, workspace, 7
bind = $mainmod, 8, workspace, 8
bind = $mainmod, 9, workspace, 9
bind = $mainmod, 0, workspace, 10

# move window to workspace
bind = $mainmod SHIFT, 1, movetoworkspace, 1
bind = $mainmod SHIFT, 2, movetoworkspace, 2
bind = $mainmod SHIFT, 3, movetoworkspace, 3
bind = $mainmod SHIFT, 4, movetoworkspace, 4
bind = $mainmod SHIFT, 5, movetoworkspace, 5
bind = $mainmod SHIFT, 6, movetoworkspace, 6
bind = $mainmod SHIFT, 7, movetoworkspace, 7
bind = $mainmod SHIFT, 8, movetoworkspace, 8
bind = $mainmod SHIFT, 9, movetoworkspace, 9
bind = $mainmod SHIFT, 0, movetoworkspace, 10

# relative workspace navigation
bind = $submod, i, workspace, e+1                      # next workspace
bind = $submod, n, workspace, e-1                      # previous workspace
bind = $submod, right, workspace, e+1                      # next workspace
bind = $submod, left, workspace, e-1                      # previous workspace

bind = $submod, u, workspace, empty                    # first empty workspace
bind = $mainmod SHIFT, i, movetoworkspace, r+1        # move window to next workspaces
bind = $mainmod SHIFT, n, movetoworkspace, r-1        # move window to previous workspace

# mouse-based workspace switching
bind = $mainmod, mouse_down, workspace, e+1
bind = $mainmod, mouse_up, workspace, e-1

### special workspaces ###
bind = $mainmod, s, togglespecialworkspace, magic
bind = $mainmod SHIFT, s, movetoworkspace, special:magic

### group management ###
bind = $mainmod, g, togglegroup                       # toggle group
bind = $submod CTRL, n, changegroupactive, b         # previous window in group
bind = $submod CTRL, i, changegroupactive, f         # next window in group
bind = $submod CTRL, left, changegroupactive, b         # previous window in group
bind = $submod CTRL, right, changegroupactive, f         # next window in group

### system controls ###
# volume controls
bindel = , xf86audioraisevolume, exec, wpctl set-volume @DEFAULT_SINK@ 5%+
bindel = , xf86audiolowervolume, exec, wpctl set-volume @DEFAULT_SINK@ 5%-
bindel = , xf86audiomute, exec, wpctl set-mute  @DEFAULT_SINK@ toggle
bindel = , xf86audiomicmute, exec, wpctl set-mute @DEFAULT_SINK@  toggle

# brightness controls
bindel = , xf86monbrightnessup, exec, brightnessctl s 10%+
bindel = , xf86monbrightnessdown, exec, brightnessctl s 10%-

# media controls
bindl = , xf86audionext, exec, playerctl next
bindl = , xf86audiopause, exec, playerctl play-pause
bindl = , xf86audioplay, exec, playerctl play-pause         # enable earphones and laptop play-pause 
bindl = , xf86audioprev, exec, playerctl previous

# window movement with mouse
bindm = $mainmod, mouse:272, movewindow
bindm = $mainmod, mouse:273, resizewindow
